--- configure.in.orig	2010-01-02 16:33:48.000000000 +0100
+++ configure.in	2010-01-02 16:44:30.000000000 +0100
@@ -215,6 +215,9 @@
                           using the cheaper standard compiler. )
 ],,)
 
+AC_ARG_ENABLE(python,
+[  --disable-python         Disable build of Python 2.x UNO API
+],,)
 AC_ARG_ENABLE(gtk,
 [  --disable-gtk           Determines whether to use Gtk+ vclplug on platforms
                           where Gtk+ is available.
@@ -4104,8 +4107,13 @@
 AC_SUBST(LIBXML_LIBS)
 
 dnl ===================================================================
-dnl Check for system python
+dnl Check for python
 dnl ===================================================================
+AC_MSG_CHECKING([whether to enable Python 2.x UNO API])
+if test "$enable_python" != "no"; then
+   AC_MSG_RESULT([yes])
+   BUILD_TYPE="$BUILD_TYPE PYUNO"
+
 AC_MSG_CHECKING([which python to use])
 if test "$_os" = "Darwin" && test "$with_system_python" != "no"; then
    with_system_python=yes
@@ -4153,6 +4159,12 @@
 AC_SUBST(PYTHON_LIBS)
 HOME=`echo $HOME | sed 's:\\\\:/:g'`
 AC_SUBST(HOME)
+dnl disable python
+else
+AC_MSG_RESULT([no])
+DISABLE_PYTHON=TRUE
+AC_SUBST(DISABLE_PYTHON)
+fi
 
 dnl ===================================================================
 dnl Check for system berkley db
--- set_soenv.in.orig	2010-01-02 15:50:06.000000000 +0100
+++ set_soenv.in	2010-01-02 16:46:20.000000000 +0100
@@ -1879,6 +1879,7 @@
 ToFile( "SYSTEM_OPENSSL",    "@SYSTEM_OPENSSL@",   "e" );
 ToFile( "OPENSSL_CFLAGS",    "@OPENSSL_CFLAGS@",   "e" );
 ToFile( "OPENSSL_LIBS",      "@OPENSSL_LIBS@",     "e" );
+ToFile( "DISABLE_PYTHON",    "@DISABLE_PYTHON@",   "e" );
 ToFile( "SYSTEM_PYTHON",     "@SYSTEM_PYTHON@",    "e" );
 ToFile( "PYTHON",            "@PYTHON@",           "e" );
 ToFile( "PYTHON_CFLAGS",     "@PYTHON_CFLAGS@",    "e" );
--- postprocess/prj/build.lst.orig	2010-01-02 17:25:56.000000000 +0100
+++ postprocess/prj/build.lst	2010-01-02 17:26:22.000000000 +0100
@@ -1,4 +1,4 @@
-po      postprocess     ::      accessibility automation basctl bean BINFILTER:binfilter chart2 configmgr CRASHREP:crashrep cui dbaccess desktop dtrans embeddedobj embedserv EPM:epm eventattacher extensions extras fileaccess filter forms fpicker helpcontent2 hwpfilter io lingucomponent MATHMLDTD:MathMLDTD ODK:odk officecfg package padmin psprint_config remotebridges sc scaddins sccomp scp2 scripting sd setup_native slideshow starmath sw sysui testtools ucb UnoControls unoxml ure wizards xmerge xmlsecurity MORE_FONTS:more_fonts DICTIONARIES:dictionaries pyuno readlicense_oo unodevtools JFREEREPORT:jfreereport REPORTBUILDER:reportbuilder reportdesign LANGUAGETOOL:languagetool SDEXT:sdext SWEXT:swext uui writerfilter oox MYSQLC:mysqlc NLPSOLVER:nlpsolver STLPORT:stlport NULL
+po      postprocess     ::      accessibility automation basctl bean BINFILTER:binfilter chart2 configmgr CRASHREP:crashrep cui dbaccess desktop dtrans embeddedobj embedserv EPM:epm eventattacher extensions extras fileaccess filter forms fpicker helpcontent2 hwpfilter io lingucomponent MATHMLDTD:MathMLDTD ODK:odk officecfg package padmin psprint_config remotebridges sc scaddins sccomp scp2 scripting sd setup_native slideshow starmath sw sysui testtools ucb UnoControls unoxml ure wizards xmerge xmlsecurity MORE_FONTS:more_fonts DICTIONARIES:dictionaries PYUNO:pyuno readlicense_oo unodevtools JFREEREPORT:jfreereport REPORTBUILDER:reportbuilder reportdesign LANGUAGETOOL:languagetool SDEXT:sdext SWEXT:swext uui writerfilter oox MYSQLC:mysqlc NLPSOLVER:nlpsolver STLPORT:stlport NULL
 po	postprocess			    	usr1	-	all	po_mkout NULL
 po	postprocess\checkxml		nmake	-	all	po_checkxml NULL
 po	postprocess\packconfig		nmake	-	all	po_packconfig po_checkxml NULL
--- testtools/prj/build.lst.orig	2010-01-02 17:26:31.000000000 +0100
+++ testtools/prj/build.lst	2010-01-02 17:26:41.000000000 +0100
@@ -1,4 +1,4 @@
-tt testtools : cpputools io remotebridges stoc javaunohelper pyuno cli_ure offapi NULL
+tt testtools : cpputools io remotebridges stoc javaunohelper PYUNO:pyuno cli_ure offapi NULL
 tt testtools\inc nmake - all tt_inc NULL
 tt testtools\source\bridgetest nmake - all tt_bridgetest tt_bridgetest_idl tt_javaTestObjs tt_inc NULL
 tt testtools\source\bridgetest\cli nmake - w,vc7 tt_cli tt_bridgetest tt_bridgetest_idl tt_inc NULL
--- testtools/source/bridgetest/pyuno/makefile.mk.orig	2010-01-02 17:31:46.000000000 +0100
+++ testtools/source/bridgetest/pyuno/makefile.mk	2010-01-02 17:32:00.000000000 +0100
@@ -41,6 +41,7 @@
 
 .INCLUDE :  settings.mk
 # --- Files --------------------------------------------------------
+.IF "$(DISABLE_PYTHON)" != "TRUE"
 .IF "$(L10N_framework)"==""
 PYEXC=$(DLLDEST)$/python$(EXECPOST)
 REGEXC=$(DLLDEST)$/regcomp$(EXECPOST)
@@ -91,8 +92,11 @@
 	doc					\
 	ALLTAR
 .ENDIF # L10N_framework
+.ENDIF # DISABLE_PYTHON
 
 .INCLUDE :  target.mk
+
+.IF "$(DISABLE_PYTHON)" != "TRUE"
 .IF "$(L10N_framework)"==""
 $(DLLDEST)$/%.py: %.py
 	cp $? $@
@@ -117,4 +121,5 @@
 	cd $(DLLDEST) && $(TEST_ENV) && $(WRAPCMD) $(REGCOMP) -register -br pyuno_regcomp.rdb -r dummy2.rdb \
 			-l com.sun.star.loader.Python -c vnd.sun.star.expand:$$FOO/samplecomponent.py
 .ENDIF # L10N_framework
+.ENDIF # DISABLE_PYTHON
 
--- scp2/source/python/makefile.mk.orig	2010-01-02 17:34:50.000000000 +0100
+++ scp2/source/python/makefile.mk	2010-01-02 17:37:33.000000000 +0100
@@ -41,11 +41,15 @@
 
 .INCLUDE :	settings.mk
 
+.IF "$(DISABLE_PYTHON)" == "TRUE"
+SCPDEFS+=-DDISABLE_PYUNO
+.ELSE
 .IF "$(SYSTEM_PYTHON)" == "YES"
 SCPDEFS+=-DSYSTEM_PYTHON
 .ELSE
 .INCLUDE :      pyversion.mk
 .ENDIF
+.ENDIF
 
 SCPDEFS+=\
 	-DPYVERSION=$(PYVERSION) -DPYMAJMIN=$(PYMAJOR).$(PYMINOR) \
--- scp2/source/python/file_python.scp.orig	2010-01-02 17:38:00.000000000 +0100
+++ scp2/source/python/file_python.scp	2010-01-02 17:40:06.000000000 +0100
@@ -30,6 +30,8 @@
 
 #include "macros.inc"
 
+#ifndef DISABLE_PYUNO
+
 File gid_File_Lib_Pyuno
     TXT_FILE_BODY;
   #ifdef UNX
@@ -157,3 +159,5 @@
 
 #endif
 
+// DISABLE_PYUNO
+#endif
--- scp2/source/python/profileitem_python.scp.orig	2010-01-02 17:40:50.000000000 +0100
+++ scp2/source/python/profileitem_python.scp	2010-01-02 17:41:43.000000000 +0100
@@ -30,6 +30,7 @@
 
 #include "macros.inc"
 
+#ifndef DISABLE_PYUNO
 
 Profile gid_Profile_Pythonloader_Uno_Ini
     ModuleID = gid_Module_Optional_Pyuno;
@@ -83,3 +84,6 @@
   #endif
 #endif
 End
+
+// DISABLE_PYUNO
+#endif
--- scp2/source/python/module_python.scp.orig	2010-01-02 17:44:06.000000000 +0100
+++ scp2/source/python/module_python.scp	2010-01-02 17:44:16.000000000 +0100
@@ -30,6 +30,8 @@
 
 #include "macros.inc"
 
+#ifndef DISABLE_PYUNO
+
 Module gid_Module_Optional_Pyuno
     PackageInfo = "packinfo_office.txt";
     MOD_NAME_DESC ( MODULE_OPTIONAL_PYTHON );
@@ -40,3 +42,5 @@
     Default = YES;
     Styles = ( );
 End
+
+#endif
--- scp2/source/python/module_python_mailmerge.scp.orig	2010-01-02 17:44:38.000000000 +0100
+++ scp2/source/python/module_python_mailmerge.scp	2010-01-02 17:44:51.000000000 +0100
@@ -30,6 +30,7 @@
 #include "macros.inc"
 
 #ifndef AIX
+#ifndef DISABLE_PYUNO
 File gid_File_Pymailmerge
     TXT_FILE_BODY;
     Dir = gid_Dir_Program;
@@ -37,3 +39,4 @@
     Styles = (PACKED,UNO_COMPONENT);
 End
 #endif
+#endif
--- scp2/source/ooo/makefile.mk.orig	2010-01-02 17:47:45.000000000 +0100
+++ scp2/source/ooo/makefile.mk	2010-01-02 17:48:19.000000000 +0100
@@ -241,9 +241,13 @@
 SCPDEFS+=-DDISABLE_ATL
 .ENDIF
 
+.IF "$(DISABLE_PYTHON)" == "TRUE"
+SCPDEFS+=-DDISABLE_PYUNO
+.ELSE
 .IF "$(SYSTEM_PYTHON)" == "YES"
 SCPDEFS+=-DSYSTEM_PYTHON
 .ENDIF
+.ENDIF
 
 .IF "$(SYSTEM_LIBTEXTCAT)" == "YES"
 SCPDEFS+=-DSYSTEM_LIBTEXTCAT
--- scp2/source/ooo/common_brand.scp.orig	2010-01-02 17:48:26.000000000 +0100
+++ scp2/source/ooo/common_brand.scp	2010-01-02 17:49:41.000000000 +0100
@@ -1373,7 +1373,7 @@
 #endif
 
 //TODO: This actually belongs into a module of its own:
-#if !defined SYSTEM_PYTHON
+#if !defined DISABLE_PYUNO && !defined SYSTEM_PYTHON
 File gid_Brand_File_Bin_Python
     BIN_FILE_BODY;
     Name = EXENAME(pyuno/python);
--- scripting/source/pyprov/makefile.mk.orig	2010-01-02 17:58:48.000000000 +0100
+++ scripting/source/pyprov/makefile.mk	2010-01-02 17:59:16.000000000 +0100
@@ -42,6 +42,7 @@
 
 
 # --- Targets ------------------------------------------------------
+.IF "$(DISABLE_PYTHON)" != "TRUE"
 ALL : ALLTAR \
         $(DLLDEST)$/pythonscript.py	\
 	$(DLLDEST)$/officehelper.py	\
@@ -49,5 +50,6 @@
 
 $(DLLDEST)$/%.py: %.py
     cp $? $@
+.ENDIF
 
 .INCLUDE :  target.mk
--- instsetoo_native/util/makefile.mk.orig	2010-01-03 00:08:04.000000000 +0100
+++ instsetoo_native/util/makefile.mk	2010-01-03 00:09:45.000000000 +0100
@@ -72,6 +72,7 @@
 
 .INCLUDE: target.mk
 
+.IF "$(DISABLE_PYTHON)" != "TRUE"
 LOCALPYFILES= \
     $(BIN)$/uno.py \
 	$(BIN)$/unohelper.py \
@@ -79,6 +80,7 @@
     $(BIN)$/pythonscript.py \
     $(BIN)$/officehelper.py \
     $(BIN)$/mailmerge.py
+.ENDIF
 
 xxxx:
     echo $(PERL) -w $(SOLARENV)$/bin$/gen_update_info.pl --buildid $(BUILD) --arch "$(RTL_ARCH)" --os "$(RTL_OS)" --lstfile $(PRJ)$/util$/openoffice.lst --product LibreOffice --languages $(subst,$(@:s/_/ /:1)_, $(@:b)) $(PRJ)$/util$/update.xml
@@ -365,12 +367,14 @@
 .ENDIF			# "$(alllangiso)"!=""
 .ENDIF
 
+.IF "$(DISABLE_PYTHON)" != "TRUE"
 .IF "$(LOCALPYFILES)"!=""
 $(foreach,i,$(alllangiso) openoffice_$i{$(PKGFORMAT:^".") .archive} openofficewithjre_$i{$(PKGFORMAT:^".")} openofficedev_$i{$(PKGFORMAT:^".")} broffice_$i{$(PKGFORMAT:^".")} brofficewithjre_$i{$(PKGFORMAT:^".")} brofficedev_$i{$(PKGFORMAT:^".")} sdkoo_$i{$(PKGFORMAT:^".")}) updatepack : $(LOCALPYFILES)
 .ENDIF			# "$(LOCALPYFILES)"!=""
 
 $(BIN)$/%.py : $(SOLARSHAREDBIN)$/pyuno$/%.py
     @$(COPY) $< $@
+.ENDIF			# "$(DISABLE_PYTHON)" != "TRUE"
 
 $(BIN)$/intro.zip : $(SOLARCOMMONPCKDIR)$/brand$/intro.zip
     $(COPY) $< $@
