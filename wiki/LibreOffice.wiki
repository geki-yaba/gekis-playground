== LibreOffice ==

=== My most painful OpenOffice.org features ===

 * Calc/Chart (science) super-/subscript formatting<br>
[http://qa.openoffice.org/issues/show_bug.cgi?id=11890 i11890 - Ability to edit legend text / modify series names]


=== Why system version over internal one? ===

 * (security) patches are included faster
 * update the library or openoffice? ...
 * able to use the same library for other applications (load only once â†’ use less memory)
 * reduce the f..king build time!


=== System variable ===

<u>set style of widgets</u>

SAL_USE_VCLPLUGIN - 'gen', 'gtk' or 'kde4'

{{{
 # example
 export SAL_USE_VCLPLUGIN=gtk
}}}


=== Known issues ===

<u>RMD160 verification failure</u>

 * grab libreoffice build tarball manually with wget
 * edit Manifest file; remove build-... line
 * run 'ebuild /path/to/ebuild digest'


=== Good to know about ... ===

<u>hack source</u>

 * enter openoffice environment

{{{
 export ARCH_FLAGS="<CXXFLAGS>"
 export LINKFLAGSOPTIMIZE="<LDFLAGS>"
 export S=/var/tmp/portage/app-office/libreoffice*/work/libreoffice*/build/libreoffice*
 cd $S
 export LinuxEnvSet="Linux<ARCH>Env.Set.sh"
 source $S/$LinuxEnvSet

 # optional: build with debugging symbols
 # '-s' will strip the code anyway!
 export ENABLE_SYMBOLS=TRUE
 export DISABLE_STRIP=TRUE

 ... hack the source ...
}}}

<u>generating a system-locale-encoded _const char pointer_ (from rtl_uString)</u>

 * http://api.openoffice.org/docs/cpp/ref/names/rtl/c-OUString.html
 * http://api.openoffice.org/docs/cpp/ref/names/rtl/c-OString.html

{{{
 #include <iostream>
 #include <rtl/ustring.hxx>
 
 ...
 
 rtl_uString* ustr = ...;
 
 ...
 
 OString ostr;
 OUString oustr( ustr );
 oustr.convertToString( &ostr,
   osl_getTextEncodingFromLocale( NULL ),
   RTL_UNICODETOTEXT_FLAGS_INVALID_UNDERLINE );
 
 /* alternative flags are:
  * RTL_UNICODETOTEXT_FLAGS_INVALID_QUESTIONMARK
  * RTL_UNICODETOTEXT_FLAGS_INVALID_0
  */
 
 /* print system-locale-encoded 'const char *' */
 std::cout << ostr.getStr() << std::endl;
}}}